-- LocalScript (StarterPlayerScripts)
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")
local AvatarEditorService = game:GetService("AvatarEditorService")

-- GUI Ringkas
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "QuickCreationsGui"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = PlayerGui

-- Fungsi buat tombol kecil untuk setiap kreasi
local function createQuickButton(creation, index)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0, 120, 0, 30)
    button.Position = UDim2.new(0, 10, 0, 10 + (35 * (index - 1)))
    button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.Text = creation.Name or "Unnamed"
    button.Parent = ScreenGui
    button.AutoButtonColor = true

    button.MouseButton1Click:Connect(function()
        pcall(function()
            AvatarEditorService:ApplyAvatarAsset(LocalPlayer.UserId, creation.AssetId)
        end)
    end)
end

-- Ambil semua kreasi avatar pemain
local success, creations = pcall(function()
    return AvatarEditorService:GetUserCreations(LocalPlayer.UserId)
end)

if success and creations then
    for index, creation in ipairs(creations) do
        createQuickButton(creation, index)
    end
else
    warn("Gagal mengambil kreasi avatar")
end
