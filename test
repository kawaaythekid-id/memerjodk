-- LocalScript (StarterPlayerScripts)
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")
local AvatarEditorService = game:GetService("AvatarEditorService")

-- Fungsi buat tombol kecil langsung di layar
local function createButton(creation, index)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0, 140, 0, 35)
    button.Position = UDim2.new(0, 10, 0, 10 + (40 * (index - 1)))
    button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.Text = creation.Name or "Unnamed"
    button.Parent = PlayerGui
    button.AutoButtonColor = true

    button.MouseButton1Click:Connect(function()
        pcall(function()
            AvatarEditorService:ApplyAvatarAsset(LocalPlayer.UserId, creation.AssetId)
        end)
    end)
end

-- Ambil kreasi avatar pemain
local success, creations = pcall(function()
    return AvatarEditorService:GetUserCreations(LocalPlayer.UserId)
end)

if success and creations then
    for index, creation in ipairs(creations) do
        createButton(creation, index)
    end
else
    warn("Gagal mengambil kreasi avatar")
end
