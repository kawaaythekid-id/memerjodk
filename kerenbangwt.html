local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Player = Players.LocalPlayer

local Remote = ReplicatedStorage:WaitForChild("HapusObjekEvent")

-- Hapus GUI lama jika ada
if Player:FindFirstChild("PlayerGui") then
    local oldGui = Player.PlayerGui:FindFirstChild("HapusObjekGUI")
    if oldGui then oldGui:Destroy() end
end

-- GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "HapusObjekGUI"
ScreenGui.Parent = Player.PlayerGui

local tombol = Instance.new("TextButton")
tombol.Size = UDim2.new(0, 250, 0, 80)
tombol.Position = UDim2.new(0.5, -125, 0.85, 0)
tombol.Text = "Hapus Objek: OFF"
tombol.BackgroundColor3 = Color3.fromRGB(255, 0, 0) -- merah saat OFF
tombol.TextColor3 = Color3.fromRGB(255,255,255)
tombol.Font = Enum.Font.SourceSansBold
tombol.TextScaled = true
tombol.Parent = ScreenGui

local aktif = false -- toggle lokal

tombol.MouseButton1Click:Connect(function()
    aktif = not aktif
    if aktif then
        tombol.Text = "Hapus Objek: ON"
        tombol.BackgroundColor3 = Color3.fromRGB(0, 255, 0) -- hijau saat ON
    else
        tombol.Text = "Hapus Objek: OFF"
        tombol.BackgroundColor3 = Color3.fromRGB(255, 0, 0) -- merah saat OFF
    end
    Remote:FireServer("toggle")
end)
