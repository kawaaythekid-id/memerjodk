-- LocalScript untuk Murder vs Sheriff (StarterPlayerScripts)
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")

local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

-- Status
local NoCooldown = false
local CanShootBeforeStart = true
local GuiMinimized = false

-- Fungsi tembak otomatis
local function GetActiveToolAndEvent()
    local character = LocalPlayer.Character
    if not character then return nil, nil end
    local tool = character:FindFirstChildOfClass("Tool")
    if not tool then return nil, nil end
    for _, child in ipairs(tool:GetChildren()) do
        if child:IsA("RemoteEvent") or child.Name:lower():find("fire") then
            return tool, child
        end
    end
    return tool, nil
end

local function FireWeapon()
    local tool, event = GetActiveToolAndEvent()
    if tool and event then
        event:FireServer()
    end
end

-- Loop no cooldown
RunService.RenderStepped:Connect(function()
    if NoCooldown and CanShootBeforeStart then
        FireWeapon()
    end
end)

-- GUI Setup
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = PlayerGui

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 200, 0, 120)
Frame.Position = UDim2.new(0, 20, 0, 50)
Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
Frame.BorderSizePixel = 0
Frame.Parent = ScreenGui

local OnOffButton = Instance.new("TextButton")
OnOffButton.Size = UDim2.new(0, 180, 0, 40)
OnOffButton.Position = UDim2.new(0, 10, 0, 10)
OnOffButton.Text = "No Cooldown: OFF"
OnOffButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
OnOffButton.TextColor3 = Color3.fromRGB(255, 255, 255)
OnOffButton.Parent = Frame

local MinimizeButton = Instance.new("TextButton")
MinimizeButton.Size = UDim2.new(0, 60, 0, 30)
MinimizeButton.Position = UDim2.new(0, 10, 0, 80)
MinimizeButton.Text = "Min"
MinimizeButton.BackgroundColor3 = Color3.fromRGB(50, 50, 200)
MinimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
MinimizeButton.Parent = Frame

-- Tombol On/Off
OnOffButton.MouseButton1Click:Connect(function()
    NoCooldown = not NoCooldown
    OnOffButton.Text = "No Cooldown: " .. (NoCooldown and "ON" or "OFF")
end)

-- Tombol Minimize
MinimizeButton.MouseButton1Click:Connect(function()
    GuiMinimized = not GuiMinimized
    Frame.Size = GuiMinimized and UDim2.new(0, 60, 0, 40) or UDim2.new(0, 200, 0, 120)
    OnOffButton.Visible = not GuiMinimized
end)
