-- Combined GUI Script: WalkSpeed + FullBright + Infinity Jump
-- Tempelkan di StarterGui > LocalScript

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Lighting = game:GetService("Lighting")
local UserInputService = game:GetService("UserInputService")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

-- Simpan pengaturan awal Lighting
local originalAmbient = Lighting.Ambient
local originalOutdoorAmbient = Lighting.OutdoorAmbient
local originalClockTime = Lighting.ClockTime
local originalBrightness = Lighting.Brightness

-- GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 220, 0, 260)
frame.Position = UDim2.new(0, 20, 0, 20)
frame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
frame.Parent = screenGui

-- WalkSpeed
local wsLabel = Instance.new("TextLabel")
wsLabel.Size = UDim2.new(0, 200, 0, 20)
wsLabel.Position = UDim2.new(0, 10, 0, 10)
wsLabel.Text = "WalkSpeed: 16"
wsLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
wsLabel.BackgroundTransparency = 1
wsLabel.Parent = frame

local wsBox = Instance.new("TextBox")
wsBox.Size = UDim2.new(0, 200, 0, 30)
wsBox.Position = UDim2.new(0, 10, 0, 35)
wsBox.Text = "16"
wsBox.TextColor3 = Color3.fromRGB(255, 255, 255)
wsBox.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
wsBox.ClearTextOnFocus = false
wsBox.Parent = frame

local wsButton = Instance.new("TextButton")
wsButton.Size = UDim2.new(0, 200, 0, 30)
wsButton.Position = UDim2.new(0, 10, 0, 70)
wsButton.Text = "Enable WalkSpeed"
wsButton.TextColor3 = Color3.fromRGB(255, 255, 255)
wsButton.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
wsButton.Parent = frame

-- FullBright
local fbButton = Instance.new("TextButton")
fbButton.Size = UDim2.new(0, 200, 0, 30)
fbButton.Position = UDim2.new(0, 10, 0, 110)
fbButton.Text = "Enable FullBright"
fbButton.TextColor3 = Color3.fromRGB(255, 255, 255)
fbButton.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
fbButton.Parent = frame

-- Infinity Jump
local ijButton = Instance.new("TextButton")
ijButton.Size = UDim2.new(0, 200, 0, 30)
ijButton.Position = UDim2.new(0, 10, 0, 150)
ijButton.Text = "Enable Infinity Jump"
ijButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ijButton.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
ijButton.Parent = frame

-- WalkSpeed Logic
local walkSpeed = 16
local wsEnabled = false

wsBox.FocusLost:Connect(function(enterPressed)
    local value = tonumber(wsBox.Text)
    if value and value >= 1 and value <= 25 then
        walkSpeed = value
        wsLabel.Text = "WalkSpeed: " .. walkSpeed
        if wsEnabled then
            humanoid.WalkSpeed = walkSpeed
        end
    else
        wsBox.Text = walkSpeed
    end
end)

wsButton.MouseButton1Click:Connect(function()
    wsEnabled = not wsEnabled
    if wsEnabled then
        humanoid.WalkSpeed = walkSpeed
        wsButton.Text = "WalkSpeed Enabled"
        wsButton.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
    else
        humanoid.WalkSpeed = 16
        wsButton.Text = "Enable WalkSpeed"
        wsButton.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
    end
end)

-- FullBright Logic
local fbEnabled = false
local function setFullBright(enable)
    if enable then
        Lighting.Ambient = Color3.new(1, 1, 1)
        Lighting.OutdoorAmbient = Color3.new(1, 1, 1)
        Lighting.Brightness = 2
        Lighting.ClockTime = 14
    else
        Lighting.Ambient = originalAmbient
        Lighting.OutdoorAmbient = originalOutdoorAmbient
        Lighting.Brightness = originalBrightness
        Lighting.ClockTime = originalClockTime
    end
end

fbButton.MouseButton1Click:Connect(function()
    fbEnabled = not fbEnabled
    setFullBright(fbEnabled)
    if fbEnabled then
        fbButton.Text = "FullBright Enabled"
        fbButton.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
    else
        fbButton.Text = "Enable FullBright"
        fbButton.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
    end
end)

-- Infinity Jump Logic
local ijEnabled = false
ijButton.MouseButton1Click:Connect(function()
    ijEnabled = not ijEnabled
    if ijEnabled then
        ijButton.Text = "Infinity Jump Enabled"
        ijButton.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
    else
        ijButton.Text = "Enable Infinity Jump"
        ijButton.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
    end
end)

UserInputService.JumpRequest:Connect(function()
    if ijEnabled and humanoid and humanoid.Health > 0 then
        humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
    end
end)

-- Respawn handling
player.CharacterAdded:Connect(function(char)
    character = char
    humanoid = character:WaitForChild("Humanoid")
    if wsEnabled then
        humanoid.WalkSpeed = walkSpeed
    end
end)

-- Keep FullBright active
RunService.RenderStepped:Connect(function()
    if fbEnabled then
        setFullBright(true)
    end
end)
