-- Nama: OverpowerFlingScript
-- Lokasi: StarterPlayerScripts

local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local StarterGui = game:GetService("StarterGui")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

-- Default kekuatan fling (sangat overpower)
local flingStrength = 500 -- Nilai awal 500 untuk efek overpower

-- Membuat UI untuk TextBox
local function createUI()
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "FlingControlGui"
    screenGui.Parent = player.PlayerGui

    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(0, 200, 0, 100)
    frame.Position = UDim2.new(0.5, -100, 0.1, 0) -- Tengah atas layar
    frame.BackgroundTransparency = 0.5
    frame.BackgroundColor3 = Color3.new(0, 0, 0)
    frame.Parent = screenGui

    local textBox = Instance.new("TextBox")
    textBox.Size = UDim2.new(0, 150, 0, 30)
    textBox.Position = UDim2.new(0.5, -75, 0.2, 0)
    textBox.Text = tostring(flingStrength) -- Nilai default
    textBox.PlaceholderText = "Masukkan kekuatan fling"
    textBox.TextScaled = true
    textBox.Parent = frame

    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(0, 150, 0, 20)
    label.Position = UDim2.new(0.5, -75, 0, 0)
    label.Text = "Kekuatan Fling"
    label.TextColor3 = Color3.new(1, 1, 1)
    label.BackgroundTransparency = 1
    label.TextScaled = true
    label.Parent = frame

    -- Update kekuatan fling saat TextBox diubah
    textBox.FocusLost:Connect(function(enterPressed)
        if enterPressed then
            local input = tonumber(textBox.Text)
            if input and input > 0 then
                flingStrength = math.min(input, 10000) -- Batas maksimum 10000 agar tidak crash
                textBox.Text = tostring(flingStrength)
            else
                textBox.Text = tostring(flingStrength) -- Kembali ke nilai sebelumnya jika input salah
            end
        end
    end)
end

-- Fungsi untuk melakukan fling
local function fling()
    if humanoidRootPart then
        local bodyVelocity = Instance.new("BodyVelocity")
        bodyVelocity.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
        bodyVelocity.Velocity = Vector3.new(0, flingStrength, 0) -- Kekuatan sesuai input
        bodyVelocity.Parent = humanoidRootPart
        game:GetService("Debris"):AddItem(bodyVelocity, 0.3) -- Durasi sedikit lebih lama untuk efek overpower
    end
end

-- Mendeteksi input keyboard (PC) atau sentuhan (Android)
UserInputService.InputBegan:Connect(function(input, gameProcessedEvent)
    if not gameProcessedEvent then
        if input.UserInputType == Enum.UserInputType.Keyboard and input.KeyCode == Enum.KeyCode.E then
            fling()
        elseif input.UserInputType == Enum.UserInputType.Touch then
            fling() -- Fling saat layar disentuh
        end
    end
end)

-- Inisialisasi UI saat script dijalankan
createUI()

-- Update karakter jika respawn
player.CharacterAdded:Connect(function(newCharacter)
    character = newCharacter
    humanoidRootPart = character:WaitForChild("HumanoidRootPart")
end)
