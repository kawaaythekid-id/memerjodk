-- üìå LocalScript : Fling Hub Android (Toggle + Minimize + Warna Aktif)
-- Taruh di StarterPlayerScripts

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Player = Players.LocalPlayer

-- ===== GUI =====
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "FlingHub"
ScreenGui.Parent = Player:WaitForChild("PlayerGui")

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 180, 0, 260)
Frame.Position = UDim2.new(0.05, 0, 0.25, 0)
Frame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
Frame.BackgroundTransparency = 0.2
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Draggable = true
Frame.Parent = ScreenGui

local UIListLayout = Instance.new("UIListLayout")
UIListLayout.Padding = UDim.new(0, 5)
UIListLayout.FillDirection = Enum.FillDirection.Vertical
UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
UIListLayout.VerticalAlignment = Enum.VerticalAlignment.Top
UIListLayout.Parent = Frame

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 30)
Title.Text = "‚ö° Fling Hub"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.BackgroundTransparency = 1
Title.Font = Enum.Font.SourceSansBold
Title.TextSize = 18
Title.Parent = Frame

-- ===== MINIMIZE =====
local MinimizeButton = Instance.new("TextButton")
MinimizeButton.Size = UDim2.new(0.9, 0, 0, 25)
MinimizeButton.Text = "üîΩ Minimize"
MinimizeButton.Font = Enum.Font.SourceSansBold
MinimizeButton.TextSize = 14
MinimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
MinimizeButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
MinimizeButton.BorderSizePixel = 0
MinimizeButton.Parent = Frame

local MiniButton = Instance.new("TextButton")
MiniButton.Size = UDim2.new(0, 100, 0, 35)
MiniButton.Position = UDim2.new(0.05, 0, 0.05, 0)
MiniButton.Text = "‚ö° Fling Hub"
MiniButton.Font = Enum.Font.SourceSansBold
MiniButton.TextSize = 16
MiniButton.TextColor3 = Color3.fromRGB(255, 255, 255)
MiniButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
MiniButton.BorderSizePixel = 0
MiniButton.Active = true
MiniButton.Draggable = true
MiniButton.Visible = false
MiniButton.Parent = ScreenGui

MinimizeButton.MouseButton1Click:Connect(function()
    Frame.Visible = false
    MiniButton.Visible = true
end)

MiniButton.MouseButton1Click:Connect(function()
    Frame.Visible = true
    MiniButton.Visible = false
end)

-- ===== BUTTON MAKER (TOGGLE) =====
local function makeToggle(name, onStart, onStop)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0.9, 0, 0, 35)
    btn.Text = "‚ñ∂ " .. name
    btn.Font = Enum.Font.SourceSansBold
    btn.TextSize = 16
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.BackgroundColor3 = Color3.fromRGB(50, 50, 50) -- Default OFF (abu)
    btn.BorderSizePixel = 0
    btn.Parent = Frame

    local active = false
    local conn

    btn.MouseButton1Click:Connect(function()
        if not active then
            -- ON
            active = true
            btn.Text = "‚è∏ " .. name
            btn.BackgroundColor3 = Color3.fromRGB(0, 170, 0) -- hijau saat ON
            conn = onStart()
        else
            -- OFF
            active = false
            btn.Text = "‚ñ∂ " .. name
            btn.BackgroundColor3 = Color3.fromRGB(50, 50, 50) -- balik abu
            if conn then conn:Disconnect() end
            if onStop then onStop() end
        end
    end)
end

-- ===== FLING MODES =====

-- Spin Fling
makeToggle("Spin Fling", function()
    return RunService.RenderStepped:Connect(function()
        if Player.Character and Player.Character:FindFirstChild("HumanoidRootPart") then
            local hrp = Player.Character.HumanoidRootPart
            hrp.CFrame = hrp.CFrame * CFrame.Angles(0, math.rad(50), 0)
        end
    end)
end)

-- Bump Fling
makeToggle("Bump Fling", function()
    local hrp = Player.Character and Player.Character:FindFirstChild("HumanoidRootPart")
    if hrp then
        return hrp.Touched:Connect(function(hit)
            local humanoid = hit.Parent:FindFirstChildOfClass("Humanoid")
            if humanoid and humanoid.Parent ~= Player.Character then
                local targetHRP = humanoid.Parent:FindFirstChild("HumanoidRootPart")
                if targetHRP then
                    targetHRP.Velocity = Vector3.new(math.random(-150,150), 100, math.random(-150,150))
                end
            end
        end)
    end
end)

-- Push Fling
makeToggle("Push Fling", function()
    return RunService.RenderStepped:Connect(function()
        for _, plr in pairs(Players:GetPlayers()) do
            if plr ~= Player and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
                local hrp = plr.Character.HumanoidRootPart
                local myhrp = Player.Character and Player.Character:FindFirstChild("HumanoidRootPart")
                if myhrp and (hrp.Position - myhrp.Position).Magnitude < 10 then
                    hrp.Velocity = Vector3.new(math.random(-200,200), 200, math.random(-200,200))
                end
            end
        end
    end)
end)

-- Blackhole Fling
makeToggle("Blackhole Fling", function()
    return RunService.RenderStepped:Connect(function()
        for _, plr in pairs(Players:GetPlayers()) do
            if plr ~= Player and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
                local hrp = plr.Character.HumanoidRootPart
                local myhrp = Player.Character and Player.Character:FindFirstChild("HumanoidRootPart")
                if myhrp and (hrp.Position - myhrp.Position).Magnitude < 20 then
                    hrp.Velocity = (myhrp.Position - hrp.Position).Unit * 200
                end
            end
        end
    end)
end)
